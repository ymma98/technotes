# 读取命令行参数

## 传统方式

举例: (该程序自动执行paraview, 将 3D vtk data 在 y=0平面做切片, )

```python
# pvpython path:
# /opt/software/ParaView-5.11.0-RC2-MPI-Linux-Python3.9-x86_64/bin/pvpython
# usage example:
# pvpython autoparaviewslice.py dump.04000.vtk dump.04000.y0slice.ynorm1.csv
import sys
import os
from paraview.simple import *
paraview.simple._DisableFirstRenderCameraReset()


# 默认路径，按需修改
vtkpath = r'./vtk3dcartesian/'
csvpath = r'./csv2dcartesian/'

# 检查命令行参数是否满足要求
if len(sys.argv) != 3:
    print("Usage: pvpython autoparaviewslice.py vtkname csvname")
    sys.exit(1)

# 从命令行参数获取 vtk 文件名和 csv 文件名
vtkname = sys.argv[1]
csvname = sys.argv[2]

# 构造完整的文件路径
vtkfile = os.path.join(vtkpath, vtkname)
csvfile = os.path.join(csvpath, csvname)

print("Reading VTK file:", vtkfile)
dumpvtk = LegacyVTKReader(registrationName=vtkname, FileNames=[vtkfile])

# 创建切片（slice）
slice1 = Slice(registrationName='Slice1', Input=dumpvtk)
slice1.SliceType = 'Plane'
slice1.HyperTreeGridSlicer = 'Plane'
slice1.SliceOffsetValues = [0.0]

# 设置切片平面的法向量
slice1.SliceType.Normal = [0.0, 1.0, 0.0]

# 保存切片数据为 CSV 文件
print("Saving CSV file:", csvfile)
SaveData(csvfile, proxy=slice1, PointDataArrays=[
    'B', 'B0', 'B_2', 'J', 'J0', 'J_2', 
    'P', 'P0', 'PE', 'PE0', 'PE_2', 'P_2', 
    'V', 'V0', 'V_2', 'conc', 'conc_2', 
    'diff', 'n', 'n0', 'n_2', 'tele', 'tele_2', 
    'tion', 'tion_2'
], Precision=10)
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTQ5NjEyODE4NF19
-->