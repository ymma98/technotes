# vim 速查

很早之前做过一些 vim 的笔记，现在主要是查找 cheatsheet:
* https://vim.rtorr.com/ . [这个](https://vim.rtorr.com/) cheatsheet 中没有函数和表达式的介绍, 比如 `:put=range(0,10)` , 或者 `:join` 之类的。
* https://quickref.me/vim.html  , [这个]( https://quickref.me/vim.html ) 有更多关于查找和替换的描述和例子。
* https://github.com/ibhagwan/vim-cheatshee ，[这个](https://github.com/ibhagwan/vim-cheatsheet) 最综合, 有基本的 expression register 的描述。



最开始接触 vim 的时候还没有查 cheatsheet 的意识, 傻乎乎地做了些笔记, 现在很少看了, 放在这里权当作纪念:
## 动作
|输入| 行为|
|--|--|
| `i`               |  在所在字符之前插入文本|
| `I`               |  在行首插入文本|
| `a`               |  在所在字符之后插入文本|
| `A`               |  在行尾插入文本|
| `o`               |  在光标后新建一行并插入 |
| `O`               |  在光标前新建一行并插入  |
| `c`               |  删除并进入输入模式|
| `p`               |  当前位置之后粘贴|
| `P`               |  当前位置之前粘贴|
| `yy`              |  拷贝当前行，相当于 `ddp`|
| `u`               |  undo|
| `Ctrl+r`          |  恢复撤销的操作 |
| `w`               |  存盘|
| `x`               |  删除光标所在字符 |
| `s`               |  删除光标所在字符, 并插入  |
| `cw`              |  删除当前词并插入|
| `daw`             |  删除当前单词 |
| `dfa`             |  删除光标到下一个'a'处|
| `3dd`             |  删除包含光标处开始的3行|
| `d$`              |  删除到行尾|
| `dH`              |  删除第一行到光标所在行|
| `dG`              |  删除本行到文本结束|
| `~`               |  改变当前光标字母的大小写|
| `3~`              |  改变当前光标开始的三个字母的大小写|
| `g~~`             |  改变当前行字母大小写|
| `va{`             |  选中`{}`, `''`, `""`, `[]`, 中的内容，包含括号  |
| `vi{`             |  选中`{}`, `''`, `""`, `[]`, 中的内容，不包含括号  |
| `q+name+action+q` |  录入一个名为`name`的宏，具体操作是`action`|
| `@@`              | 对上一次宏重复操作，也可以`3@@`|
| `3@a`             |  对名为`a`的宏执行3次|
| `ctrl`+`Insert`   |   复制               |
| `shift`+`Insert`  |粘贴               |
| `shift`+`Delete`  |剪切               |




## 移动光标

|输入|行为|
|--|--|
| `0`  | 到行头|
| `^`  | 到本行第一个不是blank的字符的位置|
| `0`  | 到行头|
| `^`  | 到本行第一个不是blank的字符的位置|
| `$`  | 到本行行尾|
| `g_` | 到本行最后一个不是blank字符的位置|
| `gg` | 到第一行|
| `G`  | 到最后一行|
| `w`  | 下一个单词开头|
| `e`  | 下一个单词结尾 |
| `%`  | 匹配括号移动|
| `*`  | 移动到下一个相同的单词|
| `#`  | 移动到上一个匹配的单词|
| `fa` | 到下一个字符为'a'的地方|
| `Fa` | 到上一个字符为'a'的地方|
| `ta` | 到下一个'a'前的第一个字符 |
| `Ta` | 到上一个'a'后的第一个字符 |
| `<` \& `>` | 选中之后左缩进或者右缩进|
| `M`  | 光标移动到屏幕的中间|
| `L`  | 光标移动到屏幕的尾部|
| `H`  | 光标移动到当前屏幕第一行行首|
| `zz` | 把当前行移动到屏幕中间|
| `zt` | 把当前行移动到屏幕顶部|
| `zb` | 把当前行移动到屏幕尾部|
| `Ctrl+f`  | 翻到下一页|
| `Ctrl+b`  | 翻到上一页|
| `ma`  | 在该行设置一个marker, marker的名字是a|
| `a    | 跳转到marker a的位置|
| `:marks`    | 列出当前所有的markers |
| `:delmarks a-d`    | 删除marker a,b,c,d |




## 搜索
|输入|行为|
|--|--|
| `/string`                |   搜索 string|
| `n, N`                   |   匹配上一个，下一个|
| `:s/old/new/g`           |   把当前行的`old`替换成`new`|
| `:s/old/new`             |   当前行的`old`替换成`new`, 只执行一次    |
| `:%s/old/new/g`          |   全文的`old`替换成`new`|
| `:n1,n2s/old/new/g`          |   `n1`到`n2`行的`old`替换成`new`|
| `选中内容s/old/new/g`     | 在块选模式下进行替换|
| `:.,+2s/old/new/g` | 当前行与接下来的两行 |
| `s/old/new/gi`           | `i` 表示不区分大小写|
| `s/old/new/gI`           | `I` 表示大小写敏感|
| `s/old/new/gc`           | `c` 表示替换前需要确认 |



## 正则表达式

| 元字符                    | 含义                                                    |
| ------------------------- | ------------------------------------------------------- |
| `.`                       | 匹配任意一个字符                                        |
| `[abc]`, `[a-z]`, `[0-9]` | 匹配方is the next character 括号中的任意一个字符                              |
| `[^abc]`                  | 方括号开头有`^`, 表示匹配除了方括号内字符之外的其它字符 |
| `\d`                      | 匹配一个数字，等于 `[0-9]`                              |
| `\D`                      | 匹配一个非数字，等于`[^0-9]`                            |
| `\x`, `\X`                | 匹配十六进制数字，等于 `[0-9A-Fa-f]` ?                  |
| `\t`                      | 匹配TAB字符                                             |
| `\s`                      | 匹配空白字符                                            |
| `\S`                      | 匹配非空白字符                                          |
| `$`                       | 匹配行尾                                                |
| `^`                       | 匹配行首                                                |
| `<`                       | 匹配单词首部                                            |
| `>`                       | 匹配单词尾部                                            |
| `*`                       | 匹配 0 到任意个 , 等价于`{0,}`                          |
| `+`                       | 匹配 1 到任意个, 等价于`{1,}`                           |
| `?`                       | 匹配 0-1 个                                             |
| `{n,m}`                   | 匹配 n-m 个                                             |
| `{n}`                     | 匹配 n 个                                               |
| `{n,}`                    | 匹配 n 到任意个                                         |
| `{,m}`                    | 匹配 0-m 个                                             |





## 全局/文件操作
| 输入| 行为|
|-- |-- |
| `:e path/file`      |  打开另一个文件|
| `:saveas path/file` |  另存为 |
| `:bn`               |  到下一个文件|
| `:bp`               |  到上一个文件|
| `:b2`               |  到第2个文件|
| `:bd#n`             |  关闭第n个文件|
| `.`                 |  重复上一次操作|
| `N<command>`        |  重复某一个命令n次, e.g. `7p`: 粘贴七次|
| `:split`            |  创建分屏, 等价于 `sp`|
| `:vsplit`           |  创建垂直分屏, 等价于 `vsp`|
| `Ctrl-w-hjkl`       |  切换分屏|
| `:set nu`           |  显示编号|
| `:set nonu`         |  不显示编号|
| `:n`                |  定位到第n行，等价于 `nG`|
| `:n1,n2d`          |  删除n1到n2行|


## 含义
| 输入| 含义|
|-- |-- |
| `+`      |  clipboard |
| `"`      |  the next character \is the name of a register|

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE1Njc2MzkxMF19
-->